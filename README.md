# Goose RPG
## ðŸ¤– **World's First AI-Driven Procedural RPG with Intelligent AI NPCs** 

An immersive isometric RPG game featuring **procedural world generation**, **intelligent AI NPCs**, combat, exploration, and inventory management - **entirely created by artificial intelligence** with zero human programming.

![Main Menu](screenshots/mainmenu.png)

## ðŸŽ¬ **Game Demo Video**

**Watch the AI NPCs in action!** See how they dynamically create quests, spawn objects in the world, and interact intelligently with players in procedurally generated worlds.

[![AI NPC RPG Gameplay Demo](https://img.youtube.com/vi/i8ziAhtZfOY/maxresdefault.jpg)](https://www.youtube.com/watch?v=i8ziAhtZfOY)

ðŸŽ¥ **[Watch Full Gameplay Demo on YouTube](https://www.youtube.com/watch?v=i8ziAhtZfOY)** - *Click the thumbnail above or this link to watch!*

### AI Development Team
- **Programming**: Goose AI agent using Claude 4 Sonnet
- **Visual Assets**: Generated by OpenAI's GPT-4 Vision via MCP
- **Music**: Composed by Udio AI
- **Sound Effects**: Sourced as freeware by Claude
- **AI NPC System**: Powered by Goose with MCP integration
- **Procedural Generation**: AI-designed infinite world system
- **Human Role**: Creative prompting and direction only

**This demonstrates what AI can accomplish in game development when given creative freedom.**

## Screenshots

### Gameplay
<div align="center">

| In-Game World | Combat System |
|:-------------:|:-------------:|
| ![Gameplay](screenshots/ingame.png) | ![Combat](screenshots/combat.png) |

| Inventory Management | NPC Dialogue |
|:-------------------:|:------------:|
| ![Inventory](screenshots/inventory.png) | ![Dialog](screenshots/dialog.png) |

| Trading System | Settings Menu |
|:--------------:|:-------------:|
| ![Trading](screenshots/trading.png) | ![Settings](screenshots/settings.png) |

</div>

## ðŸŽ® Game Features

### ðŸŒ **Procedural World Generation** â­ **NEW!**
- **ðŸ—ºï¸ Infinite Worlds**: Each playthrough generates a unique, vast world to explore
- **ðŸ˜ï¸ Dynamic Settlements**: Villages, outposts, and trading posts procedurally placed across biomes
- **ðŸŒ² Biome Diversity**: Plains, forests, deserts, snow regions, and swamps with unique characteristics
- **ðŸ›¡ï¸ Settlement Safe Zones**: Large peaceful areas (70-100 tiles) around civilized settlements
- **ðŸŽ¯ Smart Player Spawning**: Players spawn within or near settlements, not in dangerous wilderness
- **ðŸ  Realistic Population**: Mix of interactive AI NPCs and background population for atmosphere
- **ðŸŽ² Seeded Generation**: Reproducible worlds using seed values for consistent experiences

### ðŸ¤– **Revolutionary AI NPC System** â­ **NEW!**
- **ðŸ§  Intelligent Conversations**: NPCs powered by advanced AI models (GPT-4, Claude, etc.)
- **ðŸ“œ Dynamic Quest Generation**: AI NPCs create unique quests on-the-fly based on context
- **ðŸŒ World-Aware NPCs**: Characters understand game state, player progress, and world events
- **ðŸŽ¯ Smart Object Spawning**: Quests automatically spawn items, enemies, and treasures in the world
- **ðŸ”„ Adaptive Dialogue**: Conversations change based on player actions and game progression
- **ðŸ› ï¸ Asset-Aware Quests**: AI only uses items and objects that actually exist in the game
- **âš™ï¸ Model Selection**: Choose your preferred AI model (GPT-4, Claude, etc.) in settings
- **ðŸ›’ Seamless Tool Integration**: NPCs can open shops, give items, and perform actions while maintaining conversation

### ðŸ“‹ **Advanced Quest System** â­ **NEW!**
- **ðŸŽ² Procedural Quests**: AI generates infinite variety of collection, combat, and exploration quests
- **ðŸ“Š Progress Tracking**: Real-time quest objective tracking with visual indicators
- **ðŸ—ºï¸ Directional Spawning**: Quest objects appear in specific directions (North, South, etc.)
- **ðŸŽ Dynamic Rewards**: Context-appropriate rewards based on quest difficulty and type
- **ðŸ“– Quest Log**: Comprehensive quest management with active and available quest tracking
- **ðŸ”„ Quest Completion**: Automatic reward distribution and progress updates

### ðŸ¹ **Advanced Ranged Combat System** â­ **NEW!**
- **ðŸŽ¯ Realistic Projectile Physics**: Arrows, bolts, and magic projectiles travel with realistic trajectories
- **ðŸ¹ Diverse Ranged Weapons**: Multiple weapon types with unique characteristics:
  - **Magic Bow** (10.0 range): Longest range magical weapon with golden arrows
  - **Crossbow** (9.0 range): High damage mechanical weapon with heavy bolts
  - **Crystal Staff** (7.0 range): Magical staff shooting crystal shards
  - **Throwing Knife** (6.0 range): Fast, precise thrown weapon
- **âš¡ Weapon-Specific Projectiles**: Each weapon fires unique visual projectiles
- **ðŸŽµ Dynamic Audio**: Weapon-specific firing sounds and impact effects
- **ðŸŽ¯ Smart Targeting**: Click enemies to attack at proper range automatically
- **âš”ï¸ Range-Based Combat**: Different weapons excel at different combat distances
- **ðŸ’¨ Projectile Speed Variation**: Faster weapons like throwing knives vs. slower magic
- **ðŸ”¥ Impact Effects**: Visual feedback when projectiles hit targets
- **ðŸ›¡ï¸ Stamina-Based System**: Each weapon has appropriate stamina costs

### Core Gameplay âœ…
- **ðŸ—ºï¸ Isometric World**: Classic RPG perspective with rich, detailed environments
- **âš”ï¸ Advanced Combat System**: Real-time combat with both melee and ranged weapons â­
- **ðŸ¹ Ranged Weapon Mastery**: Master bows, crossbows, and magical ranged weapons â­
- **ðŸŽ’ Inventory System**: Collect, manage, and equip weapons, armor, and consumables
- **ðŸ‘¥ NPC Interactions**: Talk to shopkeepers, traders, and other characters
- **ðŸ’¾ Save/Load System**: Automatic progress saving with manual save options
- **ðŸŽµ Audio Experience**: Atmospheric background music and sound effects
- **ðŸƒ Character Movement**: Smooth point-and-click movement system

### Character Progression
- **ðŸ“Š Stats System**: Health, mana, experience, and level progression
- **ðŸ›¡ï¸ Equipment System**: Equip weapons and armor for stat bonuses
- **ðŸ† Loot Collection**: Discover and collect over 35 different items
- **âš¡ Level Advancement**: Gain experience through combat and exploration

### World & Exploration
- **ðŸŒ Large Game World**: Expansive fantasy world with varied terrain
- **ðŸ˜ï¸ Multiple Locations**: Villages, forests, dungeons, and wilderness areas
- **ðŸ‘¹ Enemy AI**: Intelligent monsters that detect and pursue the player
- **ðŸª Trading Posts**: Buy and sell items with various merchants

## ðŸš€ Installation & Setup

### Prerequisites

#### Required Software
- **Python 3.8+** (Python 3.9+ recommended)
- **Git** (for cloning the repository)

#### For AI NPC Functionality â­ **IMPORTANT**
- **Goose CLI** - Required for AI NPCs to function properly
  - **ðŸ“– Installation Guide**: [https://block.github.io/goose/](https://block.github.io/goose/)
  - **ðŸ”§ Setup Instructions**: Follow the complete installation and configuration guide
  - **ðŸ¤– Model Configuration**: Ensure you have API keys for your preferred AI model (GPT-4, Claude, etc.)
  - **âœ… Verification**: Run `goose --version` to confirm installation

> **âš ï¸ Note**: Without Goose CLI properly installed and configured, AI NPCs will fall back to basic dialogue mode. The revolutionary AI features require a working Goose installation with valid API credentials.

### Quick Start
```bash
# Clone the repository
git clone https://github.com/Kvadratni/claude-rpg.git
cd claude-rpg

# Install dependencies using uv (recommended)
uv sync

# Launch the game
./launch_game.sh
```

### Alternative Installation Methods

#### Using uv (Recommended)
```bash
# Install uv if you don't have it
curl -LsSf https://astral.sh/uv/install.sh | sh

# Install dependencies and run
uv sync
uv run claude-rpg
```

#### Using pip
```bash
# Create virtual environment
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt

# Run the game
python main.py
```

### System Requirements
- **OS**: macOS, Linux, or Windows
- **RAM**: 1GB minimum, 2GB recommended (for AI processing)
- **Storage**: 200MB free space
- **Graphics**: Any system capable of running Pygame
- **Network**: Internet connection required for AI NPC functionality

## ðŸŽ¯ How to Play

### Basic Controls
| Action | Control |
|--------|---------|
| **Move Character** | Left Click on destination |
| **Attack Enemy (Melee)** | Left Click on enemy (close range) |
| **Attack Enemy (Ranged)** | Left Click on enemy (any range) â­ **NEW!** |
| **Pick Up Items** | Left Click on items |
| **Talk to NPCs** | Left Click on characters |
| **Get Information** | Right Click on anything |
| **Open Inventory** | Press `I` key |
| **Open Quest Log** | Press `Q` key â­ **NEW!** |
| **Pause/Save Game** | Press `ESC` key |
| **Toggle Fullscreen** | Press `F11` key |

### Getting Started Guide
1. **ðŸŽ¯ Movement**: Left-click anywhere to move your character
2. **ðŸ” Exploration**: Right-click on objects to learn about them
3. **âš”ï¸ Combat**: Click on enemies to engage in battle (melee or ranged automatically) â­
4. **ðŸ¹ Ranged Weapons**: Equip bows, crossbows, or magical weapons for distance combat â­
5. **ðŸ’° Looting**: Click on items scattered around the world
6. **ðŸŽ’ Inventory**: Press 'I' to manage items and equipment
7. **ðŸ’¬ NPCs**: Click on characters to start **AI-powered conversations** â­
8. **ðŸ“œ Quests**: Talk to NPCs to receive **dynamically generated quests** â­
9. **ðŸ“– Quest Log**: Press 'Q' to track your active and available quests â­
10. **ðŸ›’ Trading**: Visit shops to buy and sell equipment
11. **ðŸ’¾ Saving**: Use ESC menu to save your progress

### Tips for New Players
- **Start by exploring** the immediate area to get familiar with controls
- **Right-click everything** to learn about the game world
- **Talk to every NPC** - they have **unique AI personalities** and may offer quests â­
- **Check your Quest Log** (Q key) regularly to track objectives â­
- **Follow quest directions** - items and enemies spawn in the world based on quest needs â­
- **Collect all items** you find - they can be sold or equipped
- **Try different weapon types** - ranged weapons excel at different combat ranges â­
- **Master ranged combat** - bows and crossbows let you fight from safety â­
- **Watch your stamina** - ranged weapons consume stamina per shot â­
- **Save frequently** using the ESC menu

## ðŸ”§ Development Status

### Current State: **Advanced Beta with Procedural Generation & AI NPCs** â­
- âœ… **ðŸŒ Procedural World Generation** - Infinite, unique worlds with biome diversity
- âœ… **ðŸ›¡ï¸ Settlement Safe Zones** - Large peaceful areas around civilized settlements  
- âœ… **ðŸŽ¯ Smart Player Spawning** - Intelligent spawn placement within settlements
- âœ… **ðŸ  Realistic Settlements** - Mix of interactive AI NPCs and background population
- âœ… **ðŸ¤– Revolutionary AI NPC System** - Dynamic conversations and quest generation
- âœ… **ðŸ“‹ Advanced Quest System** - Procedural quest creation with smart object spawning
- âœ… **ðŸ› ï¸ Asset-Aware AI** - Intelligent item selection that only uses existing game assets
- âœ… **ðŸ›’ Seamless Tool Integration** - NPCs can perform actions while maintaining conversation
- âœ… Core gameplay mechanics implemented
- âœ… Complete UI system with menus and HUD
- âœ… Save/load functionality with procedural world support
- âœ… Audio system with music and effects
- âœ… Comprehensive inventory and equipment system

### Recent Major Updates ðŸš€
- **ðŸŒ Procedural World Generation**: Infinite worlds with diverse biomes and settlements
- **ðŸ›¡ï¸ Enhanced Settlement System**: Large safe zones and realistic population density
- **ðŸŽ¯ Improved Player Experience**: Smart spawning and better world navigation
- **ðŸ¤– AI NPC Integration**: NPCs now powered by advanced language models
- **ðŸ“œ Dynamic Quest Generation**: Infinite variety of AI-created quests
- **ðŸŽ¯ Smart Object Spawning**: Quests spawn appropriate items and enemies
- **ðŸ“Š Quest Progress Tracking**: Real-time objective tracking and completion
- **ðŸ› ï¸ Asset Verification System**: AI only uses items that exist in the game
- **âš™ï¸ Model Selection**: Choose your preferred AI model in settings
- **ðŸ›’ Tool Integration**: Seamless NPC actions with conversational responses
- **ðŸ¹ Advanced Ranged Combat System**: Realistic projectile physics with diverse weapons â­ **NEW!**
- **ðŸŽ¯ Weapon-Specific Projectiles**: Unique visual effects for each ranged weapon â­ **NEW!**
- **ðŸ  Building Visibility System**: Advanced occlusion system for building interiors â­ **NEW!**
- **âš¡ Performance Optimizations**: Massive performance improvements around buildings â­ **NEW!**
- **ðŸª‘ Furniture System**: Properly scaled furniture with interaction support â­ **NEW!**
- **ðŸ¹ Ranged Enemy System**: Procedural worlds now properly spawn ranged enemies with diverse weapons â­ **FIXED!**

### Planned Features ðŸš€
- **ðŸ—ºï¸ Advanced Procedural Features**: Dungeons, caves, and special locations
- **ðŸ”® Magic System**: Spells and magical abilities
- **ðŸŒŸ Advanced Skills**: Detailed character progression trees
- **ðŸŽ­ Rich Storyline**: Main quest with branching narratives
- **âš¡ Enhanced Combat**: Special attacks and tactical options
- **ðŸ¤– More AI NPCs**: Expand the cast of intelligent characters
- **ðŸŒ Multiplayer Support**: Shared procedural worlds

## ðŸ¤ Contributing

This project showcases AI-driven development, but we welcome contributions from the community:

1. **ðŸ› Bug Reports**: Open an issue describing any problems you encounter
2. **ðŸ’¡ Feature Suggestions**: Share ideas for new game features
3. **ðŸŽ¨ Asset Contributions**: Submit new sprites, sounds, or music
4. **ðŸ“ Documentation**: Help improve guides and documentation

## ðŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ðŸŽ¯ About This Project

Goose RPG serves as a **groundbreaking demonstration** of what AI can accomplish in game development when given creative freedom. Every line of code, game mechanic, and system was designed and implemented by AI, showcasing the potential for AI-assisted creative projects.

### ðŸ¤– **What Makes This Special**
- **World's First AI-Driven Procedural RPG**: Infinite worlds generated by AI with intelligent NPC integration
- **Revolutionary AI NPC System**: NPCs that think, adapt, and create content dynamically
- **Zero Human Programming**: 100% AI-developed codebase with advanced procedural generation
- **Infinite Content Creation**: AI generates worlds, quests, and interactions in real-time
- **Asset-Aware Intelligence**: AI that understands and works within game constraints
- **Model Flexibility**: Support for multiple AI models (GPT-4, Claude, etc.)
- **Seamless Integration**: Procedural worlds that perfectly integrate with AI NPCs

The game is actively developed with new features and improvements added regularly through AI-driven development processes, pushing the boundaries of what's possible in AI game development.

### ðŸ”¬ **Technical Innovation**
- **Procedural World Generation**: AI-designed biome systems with intelligent settlement placement
- **Settlement Safe Zones**: Dynamic peaceful areas that scale with settlement importance
- **Smart Player Spawning**: Context-aware spawn placement within civilized areas
- **MCP Integration**: Model Context Protocol for seamless AI communication
- **Dynamic Object Spawning**: AI creates and places game objects contextually
- **Intelligent Asset Management**: AI verifies and selects appropriate game resources
- **Real-time Quest Generation**: Procedural content creation during gameplay
- **Adaptive Dialogue System**: Context-aware conversations that evolve with gameplay
- **Background Population System**: Realistic settlement atmosphere with mixed NPC types
- **Advanced Ranged Combat Engine**: Real-time projectile physics with weapon-specific behaviors â­ **NEW!**
- **Projectile Rendering System**: Dynamic visual effects for arrows, bolts, and magic projectiles â­ **NEW!**
- **Advanced Building Occlusion**: Intelligent building visibility system with interior exploration â­ **NEW!**
- **Memoized Performance Caching**: Multi-layer caching system for smooth gameplay â­ **NEW!**
- **Furniture Integration**: Properly scaled furniture with building template support â­ **NEW!**

#### ðŸ¹ **Advanced Ranged Combat System** â­ **NEW!**
- **Realistic Projectile Physics**: Projectiles travel from weapon to target with proper trajectories
- **Weapon-Specific Behaviors**: Each ranged weapon has unique range, speed, and projectile type
- **Visual Projectile Rendering**: Real-time rendering of arrows, bolts, magic shards, and thrown weapons
- **Dynamic Audio Integration**: Weapon-specific firing sounds and impact effects
- **Smart Range Detection**: Automatic weapon selection based on target distance
- **Stamina-Based Combat**: Balanced stamina costs prevent ranged weapon spam
- **Impact Effect System**: Visual feedback when projectiles hit enemies or obstacles
- **Multi-Weapon Support**: Seamless switching between melee and ranged combat modes

#### ðŸ  **Building Visibility System** â­ **NEW!**
- **Smart Occlusion**: Buildings automatically become transparent when player approaches
- **Whole-Building Flattening**: Entire buildings show/hide together for consistent experience
- **Restrictive Proximity**: Only flattens when player is within 1 tile of building edge
- **State Persistence**: Buildings remember their visibility state until player moves
- **Interior Exploration**: NPCs and furniture become visible inside flattened buildings
- **Performance Optimized**: Memoized flood-fill with cached building bounds

#### âš¡ **Performance Optimizations** â­ **NEW!**
- **Memoized Building Detection**: Flood-fill calculations cached per building
- **Entity Visibility Caching**: Pre-computed entity visibility states
- **Tile Visibility Caching**: Fast dictionary lookups instead of per-frame calculations
- **Building State Management**: Efficient state tracking with minimal recalculation
- **Optimized Rendering Pipeline**: Eliminated expensive per-frame proximity checks

### ðŸŒŸ **Achievements**
- **First AI-Generated Procedural RPG**: Pioneering infinite world generation with AI NPCs
- **Advanced AI Integration**: Seamless tool usage with conversational responses
- **Realistic World Building**: Proper settlement design with safe zones and population
- **Infinite Replayability**: Every playthrough offers unique worlds and experiences
- **Technical Excellence**: Robust save/load system supporting procedural worlds

---

**ðŸŽ® Ready to play? Clone the repo and start your adventure!**

```bash
git clone https://github.com/Kvadratni/claude-rpg.git && cd claude-rpg && ./launch_game.sh
```
EOF 2>&1
